{"version":3,"file":"static/js/367.48c838b6.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Users/Users.module.css?b9d0","components/Users/Users.jsx","redux/users/users-selectors.js","components/Users/UsersContainer.jsx","hoc/AuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__oN5Ju\",\"user\":\"Users_user__ureKU\",\"main\":\"Users_main__66FJP\",\"image\":\"Users_image__LuIQN\",\"button\":\"Users_button__r5-uP\",\"follow\":\"Users_follow__Iacut\",\"unfollow\":\"Users_unfollow__rMyqP\",\"info\":\"Users_info__QJnqb\",\"name\":\"Users_name__85yu-\",\"status\":\"Users_status__2SZCL\",\"line\":\"Users_line__FfIkl\"};","import React from \"react\";\nimport s from \"./Users.module.css\";\nimport user from \"../../assets/images/avatar.png\";\nimport { NavLink } from \"react-router-dom\";\n\nexport const Users = (props) => {\n  return (\n    <>\n      <div className={s.line}>\n        <div onClick={() => props.firstPage()}>\n          <span>{\"<<\"}</span>\n        </div>\n        <div onClick={() => props.prevPage(props.currentPage)}>\n          <span> {\"<--\"}</span>\n        </div>\n        <div>\n          <span>{props.currentPage}</span>\n        </div>\n        <div onClick={() => props.nextPage(props.currentPage)}>\n          <span>{\"-->\"}</span>\n        </div>\n        <div onClick={() => props.lastPage()}>\n          <span>{\">>\"}</span>\n        </div>\n      </div>\n      <div className={s.users}>\n        {props.users.map((el) => {\n          return (\n            <div className={s.user} key={el.id}>\n              <div className={s.main}>\n                <NavLink to={\"/profile/\" + el.id}>\n                  <img\n                    className={s.image}\n                    alt=\"avatar\"\n                    src={el.photos.small ? el.photos.small : user}\n                  />\n                </NavLink>\n\n                {el.followed ? (\n                  <button\n                    className={`${s.button} ${s.unfollow}`}\n                    disabled={props.followingProgress.some(\n                      (id) => id === el.id\n                    )}\n                    onClick={() => {\n                      props.unfollow(el.id);\n                    }}\n                  >\n                    Unfollow\n                  </button>\n                ) : (\n                  <button\n                    className={`${s.button} ${s.follow}`}\n                    disabled={props.followingProgress.some(\n                      (id) => id === el.id\n                    )}\n                    onClick={() => {\n                      props.follow(el.id);\n                    }}\n                  >\n                    Follow\n                  </button>\n                )}\n              </div>\n\n              <div className={s.info}>\n                <p className={s.name}>{el.name}</p>\n                <p className={s.status}>{el.status}</p>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n","export const usersSelectors = {\n  getUsers(state) {\n    return state.usersReducer.users;\n  },\n  getPageSize(state) {\n    return state.usersReducer.pageSize;\n  },\n  getTotalUsersCount(state) {\n    return state.usersReducer.totalUsersCount;\n  },\n  getCurrentPage(state) {\n    return state.usersReducer.currentPage;\n  },\n  getIsFetching(state) {\n    return state.usersReducer.isFetching;\n  },\n  getFollowingProgress(state) {\n    return state.usersReducer.followingProgress;\n  },\n};\n","import { connect } from \"react-redux\";\nimport React, { useEffect } from \"react\";\nimport {\n  follow,\n  setCurrentPage,\n  unfollow,\n  getUsers,\n} from \"../../redux/users/users-reducer\";\n\nimport { Users } from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport WithAuthRedirect from \"../../hoc/AuthRedirect\";\nimport { compose } from \"redux\";\nimport { usersSelectors } from \"../../redux/users/users-selectors\";\n\nconst mapStateToProps = (state) => {\n  return {\n    users: usersSelectors.getUsers(state),\n    pageSize: usersSelectors.getPageSize(state),\n    totalUsersCount: usersSelectors.getTotalUsersCount(state),\n    currentPage: usersSelectors.getCurrentPage(state),\n    isFetching: usersSelectors.getIsFetching(state),\n    followingProgress: usersSelectors.getFollowingProgress(state),\n  };\n};\n\nconst UserContainer = (props) => {\n  const { currentPage, pageSize, getUsers } = props;\n\n  useEffect(() => {\n    getUsers(currentPage, pageSize);\n  }, [currentPage, pageSize, getUsers]);\n\n  const pageChanging = (pageNumber) => {\n    props.getUsers(pageNumber, props.pageSize);\n    props.setCurrentPage(pageNumber);\n  };\n\n  const nextPage = (pageNumber) => {\n    if (pageNumber === Math.ceil(props.totalUsersCount / props.pageSize))\n      return;\n    let newNumber = ++pageNumber;\n    pageChanging(newNumber);\n  };\n\n  const prevPage = (pageNumber) => {\n    if (pageNumber === 1) return;\n    let newNumber = --pageNumber;\n    pageChanging(newNumber);\n  };\n\n  const lastPage = () => {\n    const newNumber = Math.ceil(props.totalUsersCount / props.pageSize);\n\n    if (props.currentPage === newNumber) return;\n    pageChanging(newNumber);\n  };\n\n  const firstPage = () => {\n    const newNumber = 1;\n    if (props.currentPage === newNumber) return;\n    pageChanging(newNumber);\n  };\n\n  if (props.isFetching) return <Preloader />;\n  return (\n    <>\n      <Users\n        totalUsersCount={props.totalUsersCount}\n        pageSize={props.pageSize}\n        firstPage={firstPage}\n        prevPage={prevPage}\n        nextPage={nextPage}\n        lastPage={lastPage}\n        users={props.users}\n        currentPage={props.currentPage}\n        follow={props.follow}\n        unfollow={props.unfollow}\n        followingProgress={props.followingProgress}\n      />\n    </>\n  );\n};\n\nexport default compose(\n  connect(mapStateToProps /*mapDispatchToProps*/, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    getUsers,\n  }),\n  WithAuthRedirect\n)(UserContainer);\n","import { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth/auth-selectors\";\n\nconst mapStateToPropsforRedirect = (state) => ({\n  isAuth: authSelectors.getIsAuth(state),\n});\n\nfunction WithAuthRedirect(Component) {\n  function redirectCompoennt(props) {\n    if (!props.isAuth) return <Navigate to={\"/login\"} />;\n    return <Component {...props} />;\n  }\n\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsforRedirect)(\n    redirectCompoennt\n  );\n\n  return ConnectedAuthRedirectComponent;\n}\n\nexport default WithAuthRedirect;\n"],"names":["Users","props","className","s","onClick","firstPage","prevPage","currentPage","nextPage","lastPage","users","map","el","to","id","alt","src","photos","small","user","followed","disabled","followingProgress","some","unfollow","follow","name","status","usersSelectors","state","usersReducer","pageSize","totalUsersCount","isFetching","compose","connect","setCurrentPage","getUsers","WithAuthRedirect","useEffect","pageChanging","pageNumber","Preloader","newNumber","Math","ceil","mapStateToPropsforRedirect","isAuth","authSelectors","Component"],"sourceRoot":""}